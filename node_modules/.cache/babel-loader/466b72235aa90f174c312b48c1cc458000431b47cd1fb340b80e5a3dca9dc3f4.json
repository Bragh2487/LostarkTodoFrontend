{"ast":null,"code":"var _jsxFileName = \"/Users/minhyeok/Desktop/LostarkTodo/Front/src/components/todo/CharacterSortForm.jsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { call } from \"../../service/api-service\";\nimport Accordion from '@mui/material/Accordion';\nimport AccordionSummary from '@mui/material/AccordionSummary';\nimport AccordionDetails from '@mui/material/AccordionDetails';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport { Typography } from '@mui/material';\nimport SaveIcon from '@mui/icons-material/Save';\nimport { GridContextProvider, GridDropZone, GridItem, swap } from \"react-grid-dnd\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CharacterSortForm = props => {\n  _s();\n  //1.순서 변경 캐릭터 리스트 저장\n  const [itemsSwapState, setItemsSwapState] = React.useState(false);\n  function onChange(sourceId, sourceIndex, targetIndex, targetId) {\n    setItemsSwapState(true);\n    const nextState = swap(props.characters, sourceIndex, targetIndex);\n    for (let i = 0; i < nextState.length; i++) {\n      nextState[i].sortNumber = i;\n    }\n    props.setCharacters(nextState);\n  }\n\n  //2.순서 변경 DB저장\n  const saveSort = () => {\n    setShowLinearProgress(true);\n    call(\"/member/characterList/sorting\", \"PATCH\", characters).then(response => {\n      setShowLinearProgress(false);\n      showMessage(\"순서 업데이트가 완료되었습니다.\");\n    });\n    setItemsSwapState(false);\n  };\n  return /*#__PURE__*/_jsxDEV(Accordion, {\n    style: {\n      backgroundColor: \"rgba(255, 255, 255, 50%)\",\n      width: \"100%\",\n      border: \"1px solid white\"\n    },\n    className: \"sort-wrap\",\n    children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n      expandIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 29\n      }, this),\n      style: {\n        borderRadius: \"5px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Typography, {\n        fontWeight: \"bold\",\n        display: \"flex\",\n        children: [\"\\uCE90\\uB9AD\\uD130 \\uC21C\\uC11C \\uBCC0\\uACBD\", /*#__PURE__*/_jsxDEV(SaveIcon, {\n          onClick: () => saveSort(),\n          sx: {\n            display: itemsSwapState ? \"flex\" : \"none\",\n            marginLeft: \"5px\",\n            color: \"blueviolet\",\n            cursor: \"pointer\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n      children: /*#__PURE__*/_jsxDEV(GridContextProvider, {\n        onChange: onChange,\n        children: [/*#__PURE__*/_jsxDEV(GridDropZone, {\n          id: \"characters\",\n          boxesPerRow: itemsPerRow,\n          rowHeight: 80,\n          style: {\n            height: 80 * Math.ceil(characters.length / itemsPerRow)\n          },\n          children: props.characters.map(character => /*#__PURE__*/_jsxDEV(GridItem, {\n            style: {\n              width: `${100 / itemsPerRow}%`\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginRight: 10\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"character-info-mini\",\n                style: {\n                  backgroundImage: character.characterImage !== null ? `url(${character.characterImage})` : \"\",\n                  backgroundPosition: character.characterClassName === \"도화가\" || character.characterClassName === \"기상술사\" ? \"left 25px top -70px\" : \"left 25px top -35px\",\n                  backgroundColor: \"gray\" // imgurl이 없을시 배경색을 회색으로 설정\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: character.characterName\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 70,\n                  columnNumber: 41\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Lv. \", character.itemLevel]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 33\n            }, this)\n          }, character.sortNumber, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 29\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          class: \"acc-txt\",\n          children: \"\\uB4DC\\uB798\\uADF8 \\uC2DC \\uCE90\\uB9AD\\uD130 \\uC21C\\uC11C\\uAC00 \\uBCC0\\uACBD\\uB429\\uB2C8\\uB2E4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n_s(CharacterSortForm, \"dr5BP0CcnOqMK9NilGdlfkyOLFk=\");\n_c = CharacterSortForm;\nexport default CharacterSortForm;\nvar _c;\n$RefreshReg$(_c, \"CharacterSortForm\");","map":{"version":3,"names":["React","call","Accordion","AccordionSummary","AccordionDetails","ExpandMoreIcon","Typography","SaveIcon","GridContextProvider","GridDropZone","GridItem","swap","jsxDEV","_jsxDEV","CharacterSortForm","props","_s","itemsSwapState","setItemsSwapState","useState","onChange","sourceId","sourceIndex","targetIndex","targetId","nextState","characters","i","length","sortNumber","setCharacters","saveSort","setShowLinearProgress","then","response","showMessage","style","backgroundColor","width","border","className","children","expandIcon","fileName","_jsxFileName","lineNumber","columnNumber","borderRadius","fontWeight","display","onClick","sx","marginLeft","color","cursor","id","boxesPerRow","itemsPerRow","rowHeight","height","Math","ceil","map","character","marginRight","backgroundImage","characterImage","backgroundPosition","characterClassName","characterName","itemLevel","class","_c","$RefreshReg$"],"sources":["/Users/minhyeok/Desktop/LostarkTodo/Front/src/components/todo/CharacterSortForm.jsx"],"sourcesContent":["import React from 'react';\nimport { call } from \"../../service/api-service\";\nimport Accordion from '@mui/material/Accordion';\nimport AccordionSummary from '@mui/material/AccordionSummary';\nimport AccordionDetails from '@mui/material/AccordionDetails';\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport { Typography } from '@mui/material';\nimport SaveIcon from '@mui/icons-material/Save';\nimport {\n    GridContextProvider,\n    GridDropZone,\n    GridItem,\n    swap,\n} from \"react-grid-dnd\";\n\nconst CharacterSortForm = (props) => {\n    //1.순서 변경 캐릭터 리스트 저장\n    const [itemsSwapState, setItemsSwapState] = React.useState(false);\n    function onChange(sourceId, sourceIndex, targetIndex, targetId) {\n        setItemsSwapState(true);\n        const nextState = swap(props.characters, sourceIndex, targetIndex);\n        for (let i = 0; i < nextState.length; i++) {\n            nextState[i].sortNumber = i;\n        }\n        props.setCharacters(nextState);\n    }\n\n    //2.순서 변경 DB저장\n    const saveSort = () => {\n        setShowLinearProgress(true);\n        call(\"/member/characterList/sorting\", \"PATCH\", characters)\n            .then((response) => {\n                setShowLinearProgress(false);\n                showMessage(\"순서 업데이트가 완료되었습니다.\");\n            });\n        setItemsSwapState(false);\n    };\n    \n    return (\n        <Accordion style={{ backgroundColor: \"rgba(255, 255, 255, 50%)\", width: \"100%\", border: \"1px solid white\" }} className=\"sort-wrap\">\n            <AccordionSummary\n                expandIcon={<ExpandMoreIcon />}\n                style={{ borderRadius: \"5px\" }}\n            >\n                <Typography fontWeight={\"bold\"} display={\"flex\"}>캐릭터 순서 변경\n                    <SaveIcon\n                        onClick={() => saveSort()}\n                        sx={{ display: itemsSwapState ? \"flex\" : \"none\", marginLeft: \"5px\", color: \"blueviolet\", cursor: \"pointer\" }}\n                    >\n                    </SaveIcon>\n                </Typography>\n            </AccordionSummary>\n            <AccordionDetails>\n                <GridContextProvider onChange={onChange}>\n                    <GridDropZone\n                        id=\"characters\"\n                        boxesPerRow={itemsPerRow}\n                        rowHeight={80}\n                        style={{ height: 80 * Math.ceil(characters.length / itemsPerRow) }}\n                    >\n                        {props.characters.map((character) => (\n                            <GridItem key={character.sortNumber} style={{ width: `${100 / itemsPerRow}%` }}>\n                                <div style={{ marginRight: 10 }}>\n                                    <div className=\"character-info-mini\"\n                                        style={{\n                                            backgroundImage: character.characterImage !== null ? `url(${character.characterImage})` : \"\",\n                                            backgroundPosition: character.characterClassName === \"도화가\" || character.characterClassName === \"기상술사\" ? \"left 25px top -70px\" : \"left 25px top -35px\",\n                                            backgroundColor: \"gray\", // imgurl이 없을시 배경색을 회색으로 설정\n                                        }}>\n                                        <p>{character.characterName}</p>\n                                        <p>Lv. {character.itemLevel}</p>\n                                        {/* pub 없어도 될꺼같아서 삭제! <p>테스트테스트</p> */}\n                                    </div>\n                                </div>\n                            </GridItem>\n                        ))}\n                    </GridDropZone>\n                    <span class=\"acc-txt\">드래그 시 캐릭터 순서가 변경됩니다</span>{/* pub 문구추가 */}\n                </GridContextProvider>\n            </AccordionDetails>\n        </Accordion>\n    );\n};\n\nexport default CharacterSortForm;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,IAAI,QAAQ,2BAA2B;AAChD,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,gBAAgB,MAAM,gCAAgC;AAC7D,OAAOC,gBAAgB,MAAM,gCAAgC;AAC7D,OAAOC,cAAc,MAAM,gCAAgC;AAC3D,SAASC,UAAU,QAAQ,eAAe;AAC1C,OAAOC,QAAQ,MAAM,0BAA0B;AAC/C,SACIC,mBAAmB,EACnBC,YAAY,EACZC,QAAQ,EACRC,IAAI,QACD,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExB,MAAMC,iBAAiB,GAAIC,KAAK,IAAK;EAAAC,EAAA;EACjC;EACA,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGlB,KAAK,CAACmB,QAAQ,CAAC,KAAK,CAAC;EACjE,SAASC,QAAQA,CAACC,QAAQ,EAAEC,WAAW,EAAEC,WAAW,EAAEC,QAAQ,EAAE;IAC5DN,iBAAiB,CAAC,IAAI,CAAC;IACvB,MAAMO,SAAS,GAAGd,IAAI,CAACI,KAAK,CAACW,UAAU,EAAEJ,WAAW,EAAEC,WAAW,CAAC;IAClE,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,SAAS,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;MACvCF,SAAS,CAACE,CAAC,CAAC,CAACE,UAAU,GAAGF,CAAC;IAC/B;IACAZ,KAAK,CAACe,aAAa,CAACL,SAAS,CAAC;EAClC;;EAEA;EACA,MAAMM,QAAQ,GAAGA,CAAA,KAAM;IACnBC,qBAAqB,CAAC,IAAI,CAAC;IAC3B/B,IAAI,CAAC,+BAA+B,EAAE,OAAO,EAAEyB,UAAU,CAAC,CACrDO,IAAI,CAAEC,QAAQ,IAAK;MAChBF,qBAAqB,CAAC,KAAK,CAAC;MAC5BG,WAAW,CAAC,mBAAmB,CAAC;IACpC,CAAC,CAAC;IACNjB,iBAAiB,CAAC,KAAK,CAAC;EAC5B,CAAC;EAED,oBACIL,OAAA,CAACX,SAAS;IAACkC,KAAK,EAAE;MAAEC,eAAe,EAAE,0BAA0B;MAAEC,KAAK,EAAE,MAAM;MAAEC,MAAM,EAAE;IAAkB,CAAE;IAACC,SAAS,EAAC,WAAW;IAAAC,QAAA,gBAC9H5B,OAAA,CAACV,gBAAgB;MACbuC,UAAU,eAAE7B,OAAA,CAACR,cAAc;QAAAsC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAE;MAC/BV,KAAK,EAAE;QAAEW,YAAY,EAAE;MAAM,CAAE;MAAAN,QAAA,eAE/B5B,OAAA,CAACP,UAAU;QAAC0C,UAAU,EAAE,MAAO;QAACC,OAAO,EAAE,MAAO;QAAAR,QAAA,GAAC,8CAC7C,eAAA5B,OAAA,CAACN,QAAQ;UACL2C,OAAO,EAAEA,CAAA,KAAMnB,QAAQ,CAAC,CAAE;UAC1BoB,EAAE,EAAE;YAAEF,OAAO,EAAEhC,cAAc,GAAG,MAAM,GAAG,MAAM;YAAEmC,UAAU,EAAE,KAAK;YAAEC,KAAK,EAAE,YAAY;YAAEC,MAAM,EAAE;UAAU;QAAE;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEvG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eACnBjC,OAAA,CAACT,gBAAgB;MAAAqC,QAAA,eACb5B,OAAA,CAACL,mBAAmB;QAACY,QAAQ,EAAEA,QAAS;QAAAqB,QAAA,gBACpC5B,OAAA,CAACJ,YAAY;UACT8C,EAAE,EAAC,YAAY;UACfC,WAAW,EAAEC,WAAY;UACzBC,SAAS,EAAE,EAAG;UACdtB,KAAK,EAAE;YAAEuB,MAAM,EAAE,EAAE,GAAGC,IAAI,CAACC,IAAI,CAACnC,UAAU,CAACE,MAAM,GAAG6B,WAAW;UAAE,CAAE;UAAAhB,QAAA,EAElE1B,KAAK,CAACW,UAAU,CAACoC,GAAG,CAAEC,SAAS,iBAC5BlD,OAAA,CAACH,QAAQ;YAA4B0B,KAAK,EAAE;cAAEE,KAAK,EAAG,GAAE,GAAG,GAAGmB,WAAY;YAAG,CAAE;YAAAhB,QAAA,eAC3E5B,OAAA;cAAKuB,KAAK,EAAE;gBAAE4B,WAAW,EAAE;cAAG,CAAE;cAAAvB,QAAA,eAC5B5B,OAAA;gBAAK2B,SAAS,EAAC,qBAAqB;gBAChCJ,KAAK,EAAE;kBACH6B,eAAe,EAAEF,SAAS,CAACG,cAAc,KAAK,IAAI,GAAI,OAAMH,SAAS,CAACG,cAAe,GAAE,GAAG,EAAE;kBAC5FC,kBAAkB,EAAEJ,SAAS,CAACK,kBAAkB,KAAK,KAAK,IAAIL,SAAS,CAACK,kBAAkB,KAAK,MAAM,GAAG,qBAAqB,GAAG,qBAAqB;kBACrJ/B,eAAe,EAAE,MAAM,CAAE;gBAC7B,CAAE;gBAAAI,QAAA,gBACF5B,OAAA;kBAAA4B,QAAA,EAAIsB,SAAS,CAACM;gBAAa;kBAAA1B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAChCjC,OAAA;kBAAA4B,QAAA,GAAG,MAAI,EAACsB,SAAS,CAACO,SAAS;gBAAA;kBAAA3B,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAE/B;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL;UAAC,GAZKiB,SAAS,CAAClC,UAAU;YAAAc,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAazB,CACb;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACQ,CAAC,eACfjC,OAAA;UAAM0D,KAAK,EAAC,SAAS;UAAA9B,QAAA,EAAC;QAAmB;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC/B;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACZ,CAAC;AAEpB,CAAC;AAAC9B,EAAA,CAnEIF,iBAAiB;AAAA0D,EAAA,GAAjB1D,iBAAiB;AAqEvB,eAAeA,iBAAiB;AAAC,IAAA0D,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}