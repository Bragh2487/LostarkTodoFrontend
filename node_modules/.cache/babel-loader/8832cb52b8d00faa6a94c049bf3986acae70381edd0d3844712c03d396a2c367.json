{"ast":null,"code":"var _jsxFileName = \"/Users/minhyeok/Desktop/LostarkTodo/Front/src/service/OAuth2RedirectHandler.js\";\nimport React, { Component } from 'react';\nimport { ACCESS_TOKEN } from '../../constants';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass OAuth2RedirectHandler extends Component {\n  constructor(...args) {\n    super(...args);\n    this.navigate = useNavigate();\n  }\n  getUrlParameter(name) {\n    name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n    var regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\n    var results = regex.exec(this.props.location.search);\n    return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n  }\n  render() {\n    const token = this.getUrlParameter('token');\n    const error = this.getUrlParameter('error');\n    if (token) {\n      localStorage.setItem(ACCESS_TOKEN, token);\n      return /*#__PURE__*/_jsxDEV(\"navigate\", {\n        to: {\n          pathname: \"/\",\n          state: {\n            from: this.props.location\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 20\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"navigate\", {\n        to: {\n          pathname: \"/login\",\n          state: {\n            from: this.props.location,\n            error: error\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 20\n      }, this);\n    }\n  }\n}\nexport default OAuth2RedirectHandler;","map":{"version":3,"names":["React","Component","ACCESS_TOKEN","useNavigate","jsxDEV","_jsxDEV","OAuth2RedirectHandler","constructor","args","navigate","getUrlParameter","name","replace","regex","RegExp","results","exec","props","location","search","decodeURIComponent","render","token","error","localStorage","setItem","to","pathname","state","from","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/minhyeok/Desktop/LostarkTodo/Front/src/service/OAuth2RedirectHandler.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { ACCESS_TOKEN } from '../../constants';\nimport { useNavigate } from 'react-router-dom';\n\n\nclass OAuth2RedirectHandler extends Component {\n    navigate = useNavigate();\n\n    getUrlParameter(name) {\n        name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n        var regex = new RegExp('[\\\\?&]' + name + '=([^&#]*)');\n\n        var results = regex.exec(this.props.location.search);\n        return results === null ? '' : decodeURIComponent(results[1].replace(/\\+/g, ' '));\n    };\n\n    render() {        \n        const token = this.getUrlParameter('token');\n        const error = this.getUrlParameter('error');\n\n        if(token) {\n            localStorage.setItem(ACCESS_TOKEN, token);\n            return <navigate to={{\n                pathname: \"/\",\n                state: { from: this.props.location }\n            }}/>; \n        } else {\n            return <navigate to={{\n                pathname: \"/login\",\n                state: { \n                    from: this.props.location,\n                    error: error \n                }\n            }}/>; \n        }\n    }\n}\n\nexport default OAuth2RedirectHandler;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAG/C,MAAMC,qBAAqB,SAASL,SAAS,CAAC;EAAAM,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KAC1CC,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAAA;EAExBO,eAAeA,CAACC,IAAI,EAAE;IAClBA,IAAI,GAAGA,IAAI,CAACC,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC,CAACA,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC;IACzD,IAAIC,KAAK,GAAG,IAAIC,MAAM,CAAC,QAAQ,GAAGH,IAAI,GAAG,WAAW,CAAC;IAErD,IAAII,OAAO,GAAGF,KAAK,CAACG,IAAI,CAAC,IAAI,CAACC,KAAK,CAACC,QAAQ,CAACC,MAAM,CAAC;IACpD,OAAOJ,OAAO,KAAK,IAAI,GAAG,EAAE,GAAGK,kBAAkB,CAACL,OAAO,CAAC,CAAC,CAAC,CAACH,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;EACrF;EAEAS,MAAMA,CAAA,EAAG;IACL,MAAMC,KAAK,GAAG,IAAI,CAACZ,eAAe,CAAC,OAAO,CAAC;IAC3C,MAAMa,KAAK,GAAG,IAAI,CAACb,eAAe,CAAC,OAAO,CAAC;IAE3C,IAAGY,KAAK,EAAE;MACNE,YAAY,CAACC,OAAO,CAACvB,YAAY,EAAEoB,KAAK,CAAC;MACzC,oBAAOjB,OAAA;QAAUqB,EAAE,EAAE;UACjBC,QAAQ,EAAE,GAAG;UACbC,KAAK,EAAE;YAAEC,IAAI,EAAE,IAAI,CAACZ,KAAK,CAACC;UAAS;QACvC;MAAE;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC;IACR,CAAC,MAAM;MACH,oBAAO5B,OAAA;QAAUqB,EAAE,EAAE;UACjBC,QAAQ,EAAE,QAAQ;UAClBC,KAAK,EAAE;YACHC,IAAI,EAAE,IAAI,CAACZ,KAAK,CAACC,QAAQ;YACzBK,KAAK,EAAEA;UACX;QACJ;MAAE;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAC,CAAC;IACR;EACJ;AACJ;AAEA,eAAe3B,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}